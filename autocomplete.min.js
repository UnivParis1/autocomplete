this.window=this.window||{},this.window.kraaden_autocomplete=function(){"use strict";
/**
   * Copyright (c) 2016 Denys Krasnoshchok
   *
   * Homepage: https://smartscheduling.com/en/documentation/autocomplete
   * Source: https://github.com/kraaden/autocomplete
   *
   * MIT License
   */return function(e){var t=document,n=e.container||t.createElement("div"),i=e.preventSubmit||0;n.id=n.id||"autocomplete-"+h();var r,o,a=n.style,c=e.debounceWaitMs||0,s=e.disableAutoSelect||!1,u=n.parentElement,d=[],l="",v=2,f=e.showOnFocus,p=0,m=!1,b=!1;if(void 0!==e.minLength&&(v=e.minLength),!e.input)throw new Error("input undefined");var g=e.input;function h(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}function w(){var e=n.parentNode;e&&e.removeChild(n)}function A(){o&&window.clearTimeout(o)}function E(){return!!n.parentNode}function y(){p++,d=[],l="",r=void 0,g.setAttribute("aria-activedescendant",""),g.setAttribute("aria-expanded","false"),w()}function L(){n.textContent="",g.setAttribute("aria-activedescendant","");var i=function(e,n,i){var r=t.createElement("div");return r.textContent=e.label||"",r};e.render&&(i=e.render);var o=function(e,n){var i=t.createElement("div");return i.textContent=e,i};e.renderGroup&&(o=e.renderGroup);var c=t.createDocumentFragment(),s=h();if(d.forEach((function(t,a){if(t.group&&t.group!==s){s=t.group;var u=o(t.group,l);u&&(u.className+=" group",c.appendChild(u))}var d=i(t,l,a);d&&(d.id=n.id+"_"+a,d.setAttribute("role","option"),d.addEventListener("click",(function(n){b=!0;try{e.onSelect(t,g)}finally{b=!1}y(),n.preventDefault(),n.stopPropagation()})),t===r&&(d.className+=" selected",d.setAttribute("aria-selected","true"),g.setAttribute("aria-activedescendant",d.id)),c.appendChild(d))})),n.appendChild(c),d.length<1){if(!e.emptyMsg)return void y();var v=t.createElement("div");v.id=n.id+"_"+h(),v.className="empty",v.textContent=e.emptyMsg,n.appendChild(v),g.setAttribute("aria-activedescendant",v.id)}n.parentNode||(u||t.body).appendChild(n),function(){var i;function r(){var e=t.documentElement,n=e.clientTop||t.body.clientTop||0,r=e.clientLeft||t.body.clientLeft||0,o=window.pageYOffset||e.scrollTop,c=window.pageXOffset||e.scrollLeft,s=(i=g.getBoundingClientRect()).top+g.offsetHeight+o-n,u=i.left+c-r;a.top=s+"px",a.left=u+"px",a.top=s+"px",a.bottom="",a.left=u+"px"}E()&&(g.setAttribute("aria-expanded","true"),a.height="auto",a.width=g.offsetWidth+"px",r(),r(),n.scrollIntoView({block:"nearest"}),g.scrollIntoView({block:"nearest"}),e.customize&&i&&e.customize(g,i,n))}(),k()}function x(){b||O(0)}function k(){var e=n.getElementsByClassName("selected");e.length>0&&e[0].scrollIntoView({block:"nearest"})}function C(e){d.length>0&&(!function(e){var i=t.getElementById(n.id+"_"+e);i&&(i.classList.remove("selected"),i.removeAttribute("aria-selected"),g.removeAttribute("aria-activedescendant"))}(e),function(e){var i=t.getElementById(n.id+"_"+e);i&&(i.classList.add("selected"),i.setAttribute("aria-selected","true"),g.setAttribute("aria-activedescendant",i.id))}(d.indexOf(r)),k())}function D(e,t){var n,i=E();if("Escape"===t)y();else{if(!i||d.length<1)return;"ArrowUp"===t?(n=d.indexOf(r),r=-1===n?void 0:d[(n+d.length-1)%d.length],C(n)):function(){var e=d.indexOf(r);r=d.length<1?void 0:-1===e?d[0]:d[(e+1)%d.length],C(e)}()}e.preventDefault(),i&&e.stopPropagation()}function N(t){var n=t.key;switch(n){case"ArrowUp":case"ArrowDown":case"Escape":D(t,n);break;case"Enter":!function(t){if(r){2===i&&t.preventDefault(),b=!0;try{e.onSelect(r,g)}finally{b=!1}y()}1===i&&t.preventDefault()}(t)}}function S(){f&&O(1)}function O(e){g.value.length>=v?(A(),o=window.setTimeout((function(){return T(g.value,e,g.selectionStart||0)}),0===e||2===e?c:0)):y()}function T(t,n,i){if(!m){var o=++p;g.classList.add("ac-loading"),e.fetch(t,(function(e){g.classList.remove("ac-loading"),p===o&&e&&(l=t,r=(d=e).length<1||s?void 0:d[0],L())}),n,i)}}function I(t){e.keyup?e.keyup({event:t,fetch:function(){return O(0)}}):E()||"ArrowDown"!==t.key||O(0)}function _(t){e.click&&e.click({event:t,fetch:function(){return O(2)}})}function B(){setTimeout((function(){t.activeElement!==g&&y()}),200)}return n.className="autocomplete "+(e.className||""),n.setAttribute("role","listbox"),g.setAttribute("role","combobox"),g.setAttribute("aria-expanded","false"),g.setAttribute("aria-autocomplete","list"),g.setAttribute("aria-controls",n.id),g.setAttribute("aria-owns",n.id),g.setAttribute("aria-activedescendant",""),g.setAttribute("aria-haspopup","listbox"),a.position="absolute",n.addEventListener("mousedown",(function(e){e.stopPropagation(),e.preventDefault()})),w(),g.addEventListener("keyup",I),g.addEventListener("click",_),g.addEventListener("keydown",N),g.addEventListener("input",x),g.addEventListener("blur",B),g.addEventListener("focus",S),{destroy:function(){g.removeEventListener("focus",S),g.removeEventListener("keyup",I),g.removeEventListener("click",_),g.removeEventListener("keydown",N),g.removeEventListener("input",x),g.removeEventListener("blur",B),g.removeAttribute("role"),g.removeAttribute("aria-expanded"),g.removeAttribute("aria-autocomplete"),g.removeAttribute("aria-controls"),g.removeAttribute("aria-activedescendant"),g.removeAttribute("aria-owns"),g.removeAttribute("aria-haspopup"),A(),y(),m=!0},fetch:function(){T(g.value,3,g.selectionStart||0)}}}}();
//# sourceMappingURL=autocomplete.min.js.map
